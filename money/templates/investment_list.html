{% extends "base.html" %}

{% load i18n %}

{% block content %}
<h1>{% trans "Investments list" %}</h1>
<div id="table"></div>
<script>
    var False=false; var True=true; var None=null;
    var tabledata = {{list_investments|safe}};
var table = new Tabulator("#table", {
 	data:tabledata, //assign data to table
 	layout:"fitDataTable", //fit columns to width of table (optional)
 	columns:[ //Define Table Columns
	 	{title:"{% trans 'Name' %}", field:"name",bottomCalc:"Total"},
	 	{title:"{% trans 'Bank' %}", field:"bank"},
	 	{title:"{% trans 'Active' %}", field:"active", formatter:"tickCross",},
	 	{title:"{% trans 'Balance' %}", field:"balance", formatter:"money", formatterParams:{"symbol":" €","symbolAfter":true},align:"right", bottomCalc:"sum",bottomCalcFormatter:"money",bottomCalcFormatterParams:{"symbol":" €","symbolAfter":true}},
 	],
 	rowClick:function(e, row){
        window.location.href = "{% url 'account_view' pk=-9999 %}".replace( -9999 , row.getData().id);
 	},
});
</script>
{% endblock %}

